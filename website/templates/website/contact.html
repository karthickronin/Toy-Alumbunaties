{% extends 'website/base.html' %}
{% load static %}

{% block title %}Contact - Admire{% endblock %}

{% block content %}
<!-- Contact Hero -->
<section class="section-large" style="padding-top: 120px;">
    <div class="container">
        <div class="text-center mb-3">
            <h1 style="font-size: 3rem; font-weight: 300; margin-bottom: 1rem;">Let's Work Together</h1>
            <p style="font-size: 1.2rem; color: #666; max-width: 600px; margin: 0 auto;">
                Ready to elevate your brand? We'd love to hear about your project and explore how we can help bring your vision to life.
            </p>
        </div>
    </div>
</section>

<!-- Contact Form -->
<section class="contact">
    <div class="container">
        <div class="grid grid-2" style="gap: 4rem; align-items: start;">
            <!-- Contact Information -->
            <div>
                <h2 style="margin-bottom: 2rem;">Get in Touch</h2>
                
                <div style="margin-bottom: 2rem;">
                    <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem;">Email</h3>
                    <p style="margin-bottom: 0;">
                        <a href="mailto:founder.admire@gmail.com" style="color: #000; text-decoration: none; font-size: 1.1rem;">founder.admire@gmail.com</a>
                    </p>
                </div>
                
                <div style="margin-bottom: 2rem;">
                    <h3 style="font-size: 1.2rem; margin-bottom: 0.5rem;">Social</h3>
                    <p style="margin-bottom: 0;">
                        <a href="https://instagram.com/admire.brand" target="_blank" style="color: #000; text-decoration: none; font-size: 1.1rem;">@admire.brand</a>
                    </p>
                </div>
                
                <div>
                    <h3 style="font-size: 1.2rem; margin-bottom: 1rem;">What to Expect</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0; color: #666;">→</span>
                            We'll respond within 24 hours
                        </li>
                        <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0; color: #666;">→</span>
                            Initial consultation to understand your needs
                        </li>
                        <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                            <span style="position: absolute; left: 0; color: #666;">→</span>
                            Tailored proposal and timeline
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="contact-form">
                <form id="contactForm">
                    <div class="form-group">
                        <label for="name">Name *</label>
                        <input type="text" id="name" name="name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="company">Company</label>
                        <input type="text" id="company" name="company" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" name="message" class="form-control" rows="6" required placeholder="Tell us about your project..."></textarea>
                    </div>
                    
                    <button type="submit" class="cta-button" style="width: 100%;" id="submitBtn">
                        Send Message
                    </button>
                </form>
                
                <!-- Success/Error Messages -->
                <div id="formMessage" style="margin-top: 1rem; padding: 1rem; border-radius: 4px; display: none;"></div>
            </div>
        </div>
    </div>
</section>

<!-- Alternative Contact -->
<section class="section">
    <div class="container text-center">
        <h2>Prefer a Direct Approach?</h2>
        <p style="font-size: 1.1rem; color: #666; margin-bottom: 2rem;">
            Sometimes the best conversations happen over email or social media.
        </p>
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="mailto:founder.admire@gmail.com" class="cta-button">Email Us Directly</a>
            <a href="https://instagram.com/admire.brand" target="_blank" class="cta-button" style="background: transparent; color: #000; border: 1px solid #000;">Follow on Instagram</a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const submitBtn = document.getElementById('submitBtn');
    const formMessage = document.getElementById('formMessage');
    const originalBtnText = submitBtn.textContent;
    
    // Show loading state
    submitBtn.textContent = 'Sending...';
    submitBtn.disabled = true;
    formMessage.style.display = 'none';
    
    // Get form data
    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        company: document.getElementById('company').value,
        message: document.getElementById('message').value
    };
    
    try {
        const response = await fetch('{% url "website:contact_submit" %}', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'
            },
            body: JSON.stringify(formData)
        });
        
        const result = await response.json();
        
        if (result.success) {
            // Success message
            formMessage.innerHTML = result.message;
            formMessage.style.backgroundColor = '#d4edda';
            formMessage.style.color = '#155724';
            formMessage.style.border = '1px solid #c3e6cb';
            formMessage.style.display = 'block';
            
            // Reset form
            document.getElementById('contactForm').reset();
        } else {
            // Error message
            formMessage.innerHTML = result.error || 'Something went wrong. Please try again.';
            formMessage.style.backgroundColor = '#f8d7da';
            formMessage.style.color = '#721c24';
            formMessage.style.border = '1px solid #f5c6cb';
            formMessage.style.display = 'block';
        }
    } catch (error) {
        // Network error
        formMessage.innerHTML = 'Network error. Please check your connection and try again.';
        formMessage.style.backgroundColor = '#f8d7da';
        formMessage.style.color = '#721c24';
        formMessage.style.border = '1px solid #f5c6cb';
        formMessage.style.display = 'block';
    }
    
    // Reset button
    submitBtn.textContent = originalBtnText;
    submitBtn.disabled = false;
});
</script>
{% endblock %}